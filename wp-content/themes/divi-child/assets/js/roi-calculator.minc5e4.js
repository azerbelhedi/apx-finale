"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,a,e){"function"==typeof define&&define.amd?define(["jquery"],t):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t(require("jquery")):t(a||e)}(function(l){var f=function(h,y,$){var w={invalid:[],getCaret:function(){try{var t,a=0,e=h.get(0),n=document.selection,i=e.selectionStart;return n&&-1===navigator.appVersion.indexOf("MSIE 10")?((t=n.createRange()).moveStart("character",-w.val().length),a=t.text.length):(i||"0"===i)&&(a=i),a}catch(t){}},setCaret:function(t){try{if(h.is(":focus")){var a,e=h.get(0);e.setSelectionRange?e.setSelectionRange(t,t):((a=e.createTextRange()).collapse(!0),a.moveEnd("character",t),a.moveStart("character",t),a.select())}}catch(t){}},events:function(){h.on("keydown.mask",function(t){h.data("mask-keycode",t.keyCode||t.which),h.data("mask-previus-value",h.val()),h.data("mask-previus-caret-pos",w.getCaret()),w.maskDigitPosMapOld=w.maskDigitPosMap}).on(l.jMaskGlobals.useInput?"input.mask":"keyup.mask",w.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){h.keydown().keyup()},100)}).on("change.mask",function(){h.data("changed",!0)}).on("blur.mask",function(){s===w.val()||h.data("changed")||h.trigger("change"),h.data("changed",!1)}).on("blur.mask",function(){s=w.val()}).on("focus.mask",function(t){!0===$.selectOnFocus&&l(t.target).select()}).on("focusout.mask",function(){$.clearIfNotMatch&&!r.test(w.val())&&w.val("")})},getRegexMask:function(){for(var t,a,e,n,i,r,s=[],l=0;l<y.length;l++)(t=x.translation[y.charAt(l)])?(a=t.pattern.toString().replace(/.{1}$|^.{1}/g,""),e=t.optional,(n=t.recursive)?(s.push(y.charAt(l)),i={digit:y.charAt(l),pattern:a}):s.push(e||n?a+"?":a)):s.push(y.charAt(l).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return r=s.join(""),i&&(r=r.replace(new RegExp("("+i.digit+"(.*"+i.digit+")?)"),"($1)?").replace(new RegExp(i.digit,"g"),i.pattern)),new RegExp(r)},destroyEvents:function(){h.off(["input","keydown","keyup","paste","drop","blur","focusout",""].join(".mask "))},val:function(t){var a,e=h.is("input")?"val":"text";return 0<arguments.length?(h[e]()!==t&&h[e](t),a=h):a=h[e](),a},calculateCaretPosition:function(){var t=h.data("mask-previus-value")||"",a=w.getMasked(),e=w.getCaret();if(t!==a){var n=h.data("mask-previus-caret-pos")||0,i=a.length,r=t.length,s=0,l=0,f=0,o=0,u=0;for(u=e;u<i&&w.maskDigitPosMap[u];u++)l++;for(u=e-1;0<=u&&w.maskDigitPosMap[u];u--)s++;for(u=e-1;0<=u;u--)w.maskDigitPosMap[u]&&f++;for(u=n-1;0<=u;u--)w.maskDigitPosMapOld[u]&&o++;if(r<e)e=10*i;else if(e<=n&&n!==r){if(!w.maskDigitPosMapOld[e]){var c=e;e-=o-f,e-=s,w.maskDigitPosMap[e]&&(e=c)}}else n<e&&(e+=f-o,e+=l)}return e},behaviour:function(t){t=t||window.event,w.invalid=[];var a=h.data("mask-keycode");if(-1===l.inArray(a,x.byPassKeys)){var e=w.getMasked(),n=w.getCaret();return setTimeout(function(){w.setCaret(w.calculateCaretPosition())},l.jMaskGlobals.keyStrokeCompensation),w.val(e),w.setCaret(n),w.callbacks(t)}},getMasked:function(t,a){var e,n,i,r=[],s=void 0===a?w.val():a+"",l=0,f=y.length,o=0,u=s.length,c=1,h="push",v=-1,d=0,p=[];for($.reverse?(h="unshift",c=-1,e=0,l=f-1,o=u-1,n=function(){return-1<l&&-1<o}):(e=f-1,n=function(){return l<f&&o<u});n();){var m=y.charAt(l),k=s.charAt(o),g=x.translation[m];g?(k.match(g.pattern)?(r[h](k),g.recursive&&(-1===v?v=l:l===e&&l!==v&&(l=v-c),e===v&&(l-=c)),l+=c):k===i?(d--,i=void 0):g.optional?(l+=c,o-=c):g.fallback?(r[h](g.fallback),l+=c,o-=c):w.invalid.push({p:o,v:k,e:g.pattern}),o+=c):(t||r[h](m),k===m?(p.push(o),o+=c):(i=m,p.push(o+d),d++),l+=c)}var M=y.charAt(e);f!==u+1||x.translation[M]||r.push(M);var b=r.join("");return w.mapMaskdigitPositions(b,p,u),b},mapMaskdigitPositions:function(t,a,e){var n=$.reverse?t.length-e:0;w.maskDigitPosMap={};for(var i=0;i<a.length;i++)w.maskDigitPosMap[a[i]+n]=1},callbacks:function(t){var a=w.val(),e=a!==s,n=[a,t,h,$],i=function(t,a,e){"function"==typeof $[t]&&a&&$[t].apply(this,e)};i("onChange",!0===e,n),i("onKeyPress",!0===e,n),i("onComplete",a.length===y.length,n),i("onInvalid",0<w.invalid.length,[a,t,h,w.invalid,$])}};h=l(h);var r,x=this,s=w.val();y="function"==typeof y?y(w.val(),void 0,h,$):y,x.mask=y,x.options=$,x.remove=function(){var t=w.getCaret();return x.options.placeholder&&h.removeAttr("placeholder"),h.data("mask-maxlength")&&h.removeAttr("maxlength"),w.destroyEvents(),w.val(x.getCleanVal()),w.setCaret(t),h},x.getCleanVal=function(){return w.getMasked(!0)},x.getMaskedVal=function(t){return w.getMasked(!1,t)},x.init=function(t){if(t=t||!1,$=$||{},x.clearIfNotMatch=l.jMaskGlobals.clearIfNotMatch,x.byPassKeys=l.jMaskGlobals.byPassKeys,x.translation=l.extend({},l.jMaskGlobals.translation,$.translation),x=l.extend(!0,{},x,$),r=w.getRegexMask(),t)w.events(),w.val(w.getMasked());else{$.placeholder&&h.attr("placeholder",$.placeholder),h.data("mask")&&h.attr("autocomplete","off");for(var a=0,e=!0;a<y.length;a++){var n=x.translation[y.charAt(a)];if(n&&n.recursive){e=!1;break}}e&&h.attr("maxlength",y.length).data("mask-maxlength",!0),w.destroyEvents(),w.events();var i=w.getCaret();w.val(w.getMasked()),w.setCaret(i)}},x.init(!h.is("input"))};l.maskWatchers={};var a=function(){var t=l(this),a={},e="data-mask-",n=t.attr("data-mask");if(t.attr(e+"reverse")&&(a.reverse=!0),t.attr(e+"clearifnotmatch")&&(a.clearIfNotMatch=!0),"true"===t.attr(e+"selectonfocus")&&(a.selectOnFocus=!0),o(t,n,a))return t.data("mask",new f(this,n,a))},o=function(t,a,e){e=e||{};var n=l(t).data("mask"),i=JSON.stringify,r=l(t).val()||l(t).text();try{return"function"==typeof a&&(a=a(r)),"object"!==(void 0===n?"undefined":_typeof(n))||i(n.options)!==i(e)||n.mask!==a}catch(t){}};l.fn.mask=function(t,a){a=a||{};var e=this.selector,n=l.jMaskGlobals,i=n.watchInterval,r=a.watchInputs||n.watchInputs,s=function(){if(o(this,t,a))return l(this).data("mask",new f(this,t,a))};return l(this).each(s),e&&""!==e&&r&&(clearInterval(l.maskWatchers[e]),l.maskWatchers[e]=setInterval(function(){l(document).find(e).each(s)},i)),this},l.fn.masked=function(t){return this.data("mask").getMaskedVal(t)},l.fn.unmask=function(){return clearInterval(l.maskWatchers[this.selector]),delete l.maskWatchers[this.selector],this.each(function(){var t=l(this).data("mask");t&&t.remove().removeData("mask")})},l.fn.cleanVal=function(){return this.data("mask").getCleanVal()},l.applyDataMask=function(t){((t=t||l.jMaskGlobals.maskElements)instanceof l?t:l(t)).filter(l.jMaskGlobals.dataMaskAttr).each(a)};var t,e,n,i={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&(t="input",n=document.createElement("div"),(e=(t="on"+t)in n)||(n.setAttribute(t,"return;"),e="function"==typeof n[t]),n=null,e),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};l.jMaskGlobals=l.jMaskGlobals||{},(i=l.jMaskGlobals=l.extend(!0,{},i,l.jMaskGlobals)).dataMask&&l.applyDataMask(),setInterval(function(){l.jMaskGlobals.watchDataMask&&l.applyDataMask()},i.watchInterval)},window.jQuery,window.Zepto),function(l){Number.prototype.format=function(t,a){var e="\\d(?=(\\d{"+(a||3)+"})+"+(0<t?"\\.":"$")+")";return this.toFixed(Math.max(0,~~t)).replace(new RegExp(e,"g"),"$&,")},l(".cience_roi_calculator__app").each(function(){var t="#cience_roi_calculator__app-"+l(this).data("num");new Vue({el:t,data:{fields:[]},created:function(){var e={};l(t).find("[data-id]").each(function(){var t,a=+l(this).data("id");e["f"+(a=a<10?"0"+a:a)]={},e["f"+a].value=(t=l(this)).is(".usd")||t.is(".percent")?+t.val().replace("$","").replace(",","").replace("%","").replace(" ","").replace(".",""):t.is("[data-value]")?+t.data("value"):+t.val()}),this.fields=e},computed:{f:function(){return{b7:this.fields.f01.value,b8:this.fields.f02.value,b9:this.fields.f03.value,b10:this.fields.f04.value,b11:this.fields.f05.value,b12:this.fields.f06.value,b20:this.fields.f15.value,f8:this.fields.f22.value,f12:this.fields.f23.value,f13:this.fields.f25.value,f14:this.fields.f27.value,f16:this.fields.f29.value,f17:this.fields.f31.value,f19:this.fields.f33.value,f20:this.fields.f35.value,f21:this.fields.f37.value}},f07:function(){var t=this.f;return"$"+Math.ceil(t.b8*(1+t.f8/100)*t.b7+t.b10*(1+t.f8/100)*t.b9).format()},f08:function(){var t=this.f07;return"$"+Math.ceil(this.clearValue(t)/12).format()},f09:function(){var t=this.f;return"$"+Math.ceil(t.b7*(t.f16+t.f17+t.f19+t.f20+t.f21)+t.b9*(t.f12+t.f13+t.f14+t.f19+t.f20)).format()},f10:function(){var t=this.f09;return"$"+Math.ceil(this.clearValue(t)/12).format()},f11:function(){var t=this.f;return"$"+Math.ceil(t.b11*(1+t.f8/100)*(t.b12/100)).format()},f12:function(){var t=this.f11;return"$"+Math.ceil(this.clearValue(t)/12).format()},f13:function(){var t=this.f07,a=this.f09,e=this.f11;return"$"+Math.ceil(this.clearValue(t)+this.clearValue(a)+this.clearValue(e)).format()},f14:function(){var t=this.f08,a=this.f10,e=this.f12;return"$"+Math.ceil(this.clearValue(t)+this.clearValue(a)+this.clearValue(e)).format()},f16:function(){var t=(1-this.f.b20/100+1)*this.clearValue(this.f07)+this.clearValue(this.f09)+this.clearValue(this.f11);return"$"+Math.ceil(t).format()},f17:function(){var t=(1-this.f.b20/100+1)*this.clearValue(this.f14);return"$"+Math.ceil(t).format()},f19:function(){var t=3*this.clearValue(this.f14);return"$"+Math.ceil(t).format()},f20:function(){var t=this.clearValue(this.f19)/3;return"$"+Math.ceil(t).format()},f21:function(){var t=this.clearValue(this.f19)-this.fields.f18.value,a=Math.ceil(t);return 0<a?"$"+a.format():"$0"},f39:function(){var t=this.fields.f23.value+this.fields.f25.value+this.fields.f27.value+this.fields.f29.value+this.fields.f31.value+this.fields.f33.value+this.fields.f35.value+this.fields.f37.value;return"$"+Math.ceil(t).format()},f40:function(){var t=this.clearValue(this.f39)/12;return"$"+Math.ceil(t).format()},f24:function(){var t=this.fields.f23.value/12;return"$"+Math.ceil(t).format()},f26:function(){var t=this.fields.f25.value/12;return"$"+Math.ceil(t).format()},f28:function(){var t=this.fields.f27.value/12;return"$"+Math.ceil(t).format()},f30:function(){var t=this.fields.f29.value/12;return"$"+Math.ceil(t).format()},f32:function(){var t=this.fields.f31.value/12;return"$"+Math.ceil(t).format()},f34:function(){var t=this.fields.f33.value/12;return"$"+Math.ceil(t).format()},f36:function(){var t=this.fields.f35.value/12;return"$"+Math.ceil(t).format()},f38:function(){var t=this.fields.f37.value/12;return"$"+Math.ceil(t).format()}},methods:{clearValue:function(t){return+t.replace(/[$]|[,]|[ ]|[%]|[.]/g,"")},updateUsdField:function(t){var a=this.clearValue(t.target.value);(!a||a.length<1)&&(a=0);var e=l(t.target).data("id");e="f"+(e=e<10?"0"+e:e),this.fields[e].value=a,this.$forceUpdate()},updateNumberField:function(t){var a=+this.clearValue(t.target.value);(!a||a.length<1)&&(a=0);var e=l(t.target).data("id");e="f"+(e=e<10?"0"+e:e),this.fields[e].value=a,this.$forceUpdate()},updatePercentField:function(t){var a=l(t.target),e=a.next(".slider").find('[type="range"]'),n=a.attr("min")?+a.attr("min"):0,i=a.attr("max")?+a.attr("max"):100,r=a.val().replace("%","");(r=+r)<n&&(a.val(n+"%"),r=n),i<r&&(a.val(i+"%"),r=i);var s=a.data("id");s="f"+(s=s<10?"0"+s:s),this.fields[s].value=r,e.val(r),this.$forceUpdate()},updateRangeSlider:function(t){this.$forceUpdate()},minus:function(t){var a=l(t.target).closest(".plus-minus").find("[type='number']"),e=a.attr("min")?+a.attr("min"):0,n=a.attr("step")?+a.attr("step"):1,i=+a.val();(e||0===e)&&e<i&&e<=i-n&&(i-=n,a.val(i),a[0].dispatchEvent(new Event("input",{bubbles:!0})))},plus:function(t){var a=l(t.target).closest(".plus-minus").find("[type='number']"),e=!!a.attr("max")&&+a.attr("max"),n=a.attr("step")?+a.attr("step"):1,i=+a.val();e?i<e&&i+n<=e&&(i+=n,a.val(i),a[0].dispatchEvent(new Event("input",{bubbles:!0}))):(i+=n,a.val(i),a[0].dispatchEvent(new Event("input",{bubbles:!0})))}}}),l(t).find(".percent-range [type='text']").mask("##0%",{reverse:!0}),l(t).find("[type='text'].usd").mask("$#"),l(t).find(".percent-range").each(function(){var e=l(this).find('[type="text"]'),n=l(this).find('[type="range"]'),t=e.val().replace("%","");n.val(+t),n.on("input",function(t){var a=+n.val();e.val(a+"%"),e.change(),e[0].dispatchEvent(new Event("input",{bubbles:!0}))}),setInterval(function(){e.attr("data-value",e.val().replace("%",""))},100)})})}(jQuery);
//# sourceMappingURL=roi-calculator.min.js.map